syntax = "proto3";
package bandwidth;

service BandwidthService {
    rpc SayHello (HelloRequest) returns (HelloReply);
}

message BandwidthMessage {
    // An array of bandwidth messages
    repeated Bandwidth bandwidth = 1;

    message Bandwidth {
        // Ip addr of the sender (source)
        string sender_ip = 1;
        // Ip addr of the receiver (destination)
        string receiver_ip = 2;
        // The estimated bandwidth in kbits/s (0 if not available)
        int32 bandwidth = 3;
        // Average latency in milliseconds (0 if not available)
        int32 latency = 4;
        // Packet loss rate in percentage (0 if not available)
        int32 packet_loss = 5;
        // Measurement time in milliseconds (Since last measurement)
        int32 time = 6;
    }
}

message HelloRequest {
    string name = 1;
}

message HelloReply {
    string greeting = 1;
}

