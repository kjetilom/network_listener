#/bin/sh

iface=$1
echo "Enabling monitor mode on $iface"

echo "DON'T USE THIS, IT WILL NOT WORK UNLESS YOU HAVE A SECONDARY INTERFACE"
echo "USE ON VIRTUAL MACHINE OR SECONDARY INTERFACE"
exit 1

# Check if the interface is already in monitor mode
if iw dev | grep -q "type monitor"; then
    echo "Interface $iface is already in monitor mode"
    exit 0
fi

# Check if the interface is up
if ! ip link show $iface | grep -q "state UP"; then
    echo "Interface $iface is down"
    exit 1
fi

# Kill processes that might interfere with monitor mode
airmon-ng check kill

# Bring the interface down and set it to monitor mode
echo "Changing $iface to monitor mode"
ip link set $iface down
iw dev $iface set type monitor
ip link set $iface up
echo "Interface $iface is now in monitor mode"